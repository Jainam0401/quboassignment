generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["postgresqlExtensions"]
}

datasource db {
  provider   = "postgresql"
  url        = env("DATABASE_URL")
  directUrl  = env("DIRECT_URL")
  extensions = [vector]
}

model images {
 id Int @id @default(autoincrement())
  url            String
  embedding      Unsupported("vector(768)")?
  tags           String[]
  image_hash     String?                     @unique
  extracted_text String?
  created_at     DateTime?                   @default(now()) @db.Timestamp(6)


  @@index([image_hash])
}

model text_queries {
  id Int @id @default(autoincrement())
  query      String?   @unique
  embedding  Unsupported("vector(768)")?
  created_at DateTime? @default(now()) @db.Timestamp(6)
}
